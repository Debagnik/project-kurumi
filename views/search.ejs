<div class="author">
    <h1 class="author__heading">Search Results</h1>
</div>
<section class="articles">
    <ul class="article-ul">
        <% if (data.length > 0) { %>
            <% data.forEach(post => { %>
                <li>
                    <a href="/post/<%= post._id %>">
                        <span><%= post.title %></span>
                        <span class="article-list_date"><%= post.createdAt.toDateString() %></span>
                    </a>
                </li>
            <% }) %>
        <% } else { %>
             <div class="no-search-result">No results found... (；一_一)</div>
        <% } %>
    </ul>

    <% if (data.length > 0) { %>
        <div class="pagination-container">
            <div class="pagination-nav">
                <% if (previousPage) { %>
                    <form action="/search" method="POST" style="display: inline;">
                        <input type="hidden" name="searchTerm" value="<%= searchTerm %>">
                        <input type="hidden" name="page" value="<%= currentPage - 1 %>">
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <button type="submit" class="pagination prev">&lt; View previous results</button>
                    </form>
                <% } else { %>
                    <span></span> <!-- Empty span to maintain layout -->
                <% } %>
                
                <% if (nextPage !== null) { %>
                    <form action="/search" method="POST" style="display: inline;">
                        <input type="hidden" name="searchTerm" value="<%= searchTerm %>">
                        <input type="hidden" name="page" value="<%= nextPage %>">
                        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                        <button type="submit" class="pagination next">View next results &gt;</button>
                    </form>
                <% } %>
            </div>
            
            <form action="/search" method="POST" class="pagination-counter-form">
                <input type="hidden" name="searchTerm" value="<%= searchTerm %>">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <label>
                    Page <input type="number" name="page" value="<%= currentPage %>" min="1" max="<%= totalPages %>" class="page-input"> of <%= totalPages %>
                </label>
            </form>
        </div>
    <% } %>
</section>